#!/bin/bash

# Script de Teste - Event Blocking e Layout
# Testes manuais a serem executados no dispositivo apÃ³s instalaÃ§Ã£o do APK

echo "ğŸ§ª ROTEIRO DE TESTES - EVENT BLOCKING E LAYOUT"
echo "=============================================="
echo ""
echo "ğŸ“± APK: android/app/build/outputs/apk/release/app-release.apk"
echo "ğŸ“Š Tamanho: 3.0MB"
echo ""
echo "Para instalar:"
echo "  adb install -r android/app/build/outputs/apk/release/app-release.apk"
echo ""
echo "=============================================="
echo ""

echo "ğŸ¯ TESTE 1: Welcome Page - Input e BotÃ£o"
echo "----------------------------------------"
echo "âœ… Abrir o app"
echo "âœ… Clicar no input de nome"
echo "   â†’ Teclado deve abrir"
echo "   â†’ Input deve permanecer visÃ­vel"
echo "   â†’ Texto deve ser digitado normalmente"
echo "âœ… Digitar um nome"
echo "âœ… Fechar teclado"
echo "âœ… Clicar no botÃ£o 'Iniciar Jornada'"
echo "   â†’ Deve navegar para Home"
echo ""

echo "ğŸ¯ TESTE 2: Home Page - Cards ClicÃ¡veis"
echo "----------------------------------------"
echo "âœ… Verificar se todos os 3 cards estÃ£o visÃ­veis"
echo "âœ… Clicar no card 'Quiz'"
echo "   â†’ Deve navegar para Quiz"
echo "âœ… Voltar (botÃ£o back)"
echo "âœ… Clicar no card 'Forca'"
echo "   â†’ Deve navegar para Hangman"
echo "âœ… Voltar (botÃ£o back)"
echo "âœ… Clicar no card 'EstatÃ­sticas'"
echo "   â†’ Deve navegar para Statistics"
echo "âœ… Testar cliques em diferentes Ã¡reas dos cards"
echo "   â†’ Canto superior esquerdo"
echo "   â†’ Centro"
echo "   â†’ Canto inferior direito"
echo "   â†’ Todos devem funcionar!"
echo ""

echo "ğŸ¯ TESTE 3: Quiz - Options e Keyboard"
echo "----------------------------------------"
echo "âœ… Iniciar um quiz"
echo "âœ… Clicar em cada alternativa (A, B, C, D)"
echo "   â†’ Deve selecionar e mostrar feedback"
echo "âœ… Clicar no botÃ£o 'PrÃ³xima'"
echo "   â†’ Deve avanÃ§ar para prÃ³xima questÃ£o"
echo "âœ… Repetir para vÃ¡rias questÃµes"
echo "âœ… Verificar se progressbar funciona"
echo ""

echo "ğŸ¯ TESTE 4: Hangman - Letras ClicÃ¡veis"
echo "----------------------------------------"
echo "âœ… Abrir o jogo da forca"
echo "âœ… Clicar em vÃ¡rias letras"
echo "   â†’ Letras devem ser marcadas"
echo "   â†’ Boneco deve aparecer gradualmente"
echo "âœ… Testar letras nos cantos do teclado virtual"
echo "âœ… Testar letras no centro"
echo "âœ… Todas devem responder ao clique"
echo ""

echo "ğŸ¯ TESTE 5: Statistics - InteraÃ§Ã£o com Keyboard"
echo "------------------------------------------------"
echo "âœ… Abrir Statistics"
echo "âœ… Se houver inputs, testar foco"
echo "âœ… Verificar se teclado nÃ£o cobre conteÃºdo importante"
echo "âœ… Verificar scroll enquanto teclado estÃ¡ aberto"
echo ""

echo "ğŸ¯ TESTE 6: Stress Test - Teclado"
echo "-----------------------------------"
echo "âœ… Welcome page"
echo "âœ… Abrir teclado (clicar no input)"
echo "âœ… Tentar clicar no botÃ£o 'Iniciar Jornada' COM teclado aberto"
echo "   â†’ BotÃ£o deve estar acessÃ­vel"
echo "   â†’ Clique deve funcionar"
echo "âœ… Fechar teclado manualmente"
echo "âœ… Clicar novamente no botÃ£o"
echo "   â†’ Deve funcionar normalmente"
echo ""

echo "ğŸ¯ TESTE 7: Z-index e Overlays"
echo "--------------------------------"
echo "âœ… Em cada tela, verificar se:"
echo "   â†’ BotÃµes estÃ£o sempre clicÃ¡veis"
echo "   â†’ Inputs aceitam foco"
echo "   â†’ NÃ£o hÃ¡ elementos invisÃ­veis bloqueando"
echo "   â†’ Cursor muda para 'pointer' em elementos clicÃ¡veis"
echo ""

echo "ğŸ¯ TESTE 8: Touch Targets"
echo "--------------------------"
echo "âœ… Verificar se todos os botÃµes tÃªm tamanho adequado"
echo "   â†’ MÃ­nimo 44x44px"
echo "âœ… Tentar clicar nas bordas dos botÃµes"
echo "   â†’ Deve funcionar"
echo "âœ… Tentar clicar em cantos de cards"
echo "   â†’ Deve funcionar"
echo ""

echo "ğŸ¯ TESTE 9: RotaÃ§Ã£o de Tela"
echo "-----------------------------"
echo "âœ… Abrir Welcome page"
echo "âœ… Rotacionar dispositivo (portrait â†’ landscape)"
echo "âœ… Verificar se layout se ajusta"
echo "âœ… Clicar no input"
echo "   â†’ Teclado deve abrir corretamente"
echo "âœ… Voltar para portrait"
echo "âœ… Verificar se tudo ainda funciona"
echo ""

echo "ğŸ¯ TESTE 10: NavegaÃ§Ã£o RÃ¡pida"
echo "------------------------------"
echo "âœ… Navegar rapidamente entre telas:"
echo "   Welcome â†’ Home â†’ Quiz â†’ Back â†’ Hangman â†’ Back â†’ Stats â†’ Back"
echo "âœ… Verificar se nÃ£o hÃ¡ elementos travados"
echo "âœ… Verificar se nÃ£o hÃ¡ overlays bloqueando"
echo ""

echo "=============================================="
echo ""
echo "ğŸ“ CHECKLIST DE VALIDAÃ‡ÃƒO"
echo "-------------------------"
echo "[ ] Todos os inputs sÃ£o clicÃ¡veis"
echo "[ ] Todos os botÃµes sÃ£o clicÃ¡veis"
echo "[ ] Cards navegam corretamente"
echo "[ ] Teclado nÃ£o bloqueia elementos importantes"
echo "[ ] NÃ£o hÃ¡ elementos invisÃ­veis bloqueando"
echo "[ ] Touch targets tÃªm tamanho adequado"
echo "[ ] Cursor muda para pointer em elementos clicÃ¡veis"
echo "[ ] Elementos disabled nÃ£o aceitam cliques"
echo "[ ] RotaÃ§Ã£o de tela funciona corretamente"
echo "[ ] NavegaÃ§Ã£o rÃ¡pida nÃ£o causa problemas"
echo ""

echo "=============================================="
echo ""
echo "ğŸ”§ DEBUG COM CHROME DEVTOOLS"
echo "----------------------------"
echo "1. Conectar dispositivo via USB"
echo "2. Habilitar depuraÃ§Ã£o USB"
echo "3. Abrir Chrome e navegar para: chrome://inspect"
echo "4. Selecionar o app 'Formadora IV'"
echo "5. Abrir DevTools"
echo "6. Executar no console:"
echo ""
echo "// Verificar elemento em ponto de clique"
echo "document.addEventListener('click', function(e) {"
echo "  console.log('Clicked:', e.target);"
echo "  console.log('Z-index:', window.getComputedStyle(e.target).zIndex);"
echo "  console.log('Pointer events:', window.getComputedStyle(e.target).pointerEvents);"
echo "}, true);"
echo ""
echo "// Testar se elemento estÃ¡ bloqueado"
echo "function checkBlocking(selector) {"
echo "  const el = document.querySelector(selector);"
echo "  const rect = el.getBoundingClientRect();"
echo "  const center = document.elementFromPoint("
echo "    rect.left + rect.width / 2,"
echo "    rect.top + rect.height / 2"
echo "  );"
echo "  if (center !== el) {"
echo "    console.warn('BLOQUEADO por:', center);"
echo "  } else {"
echo "    console.log('âœ… ClicÃ¡vel');"
echo "  }"
echo "}"
echo ""
echo "// Uso"
echo "checkBlocking('ion-input');"
echo "checkBlocking('.menu-card');"
echo "checkBlocking('.option-card');"
echo ""

echo "=============================================="
echo ""
echo "ğŸ“Š RESULTADOS ESPERADOS"
echo "-----------------------"
echo "âœ… TODOS os testes devem passar"
echo "âœ… Nenhum elemento deve estar bloqueado"
echo "âœ… Teclado nÃ£o deve causar problemas de layout"
echo "âœ… Z-index deve estar corretamente configurado"
echo "âœ… Pointer events devem funcionar em todos os elementos"
echo ""

echo "=============================================="
echo ""
echo "âš ï¸  SE ALGUM TESTE FALHAR"
echo "------------------------"
echo "1. Anotar qual teste falhou"
echo "2. Anotar qual elemento nÃ£o estÃ¡ funcionando"
echo "3. Usar Chrome DevTools para investigar:"
echo "   - Z-index do elemento"
echo "   - Pointer events do elemento"
echo "   - Elemento que estÃ¡ no ponto de clique"
echo "4. Verificar no cÃ³digo correspondente:"
echo "   - src/app/[pÃ¡gina]/[pÃ¡gina].page.scss"
echo "   - src/global.scss"
echo "5. Ajustar z-index ou pointer-events conforme necessÃ¡rio"
echo ""

echo "=============================================="
echo "âœ… Testes concluÃ­dos!"
echo "=============================================="

